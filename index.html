<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>RadarNav Mobile</title>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>
<body>
  <div id="map"></div>

  <!-- Alerts -->
  <div id="alertPopup" class="hidden">
    <span id="alertText">Alert!</span>
  </div>

  <!-- Speed display / PiP -->
  <canvas id="pipCanvas" width="320" height="180"></canvas>
  <video id="pipVideo" style="display:none;"></video>
  <button id="pipToggle" class="overlay-btn">Enable PiP</button>

  <!-- Admin menu -->
  <div id="adminMenu" class="overlay-menu collapsed">
    <button class="adminBtn" onclick="simulateAlert('Fixed')">Test Fixed Radar</button>
    <button class="adminBtn" onclick="simulateAlert('Average')">Test Average Radar</button>
    <button class="adminBtn" onclick="simulateAlert('Custom')">Test Custom Alert</button>
    <button id="toggleAdmin" onclick="toggleAdminMenu()">Toggle Menu</button>
  </div>

  <!-- Speed / Average bar -->
  <div id="avgZoneBar" class="hidden overlay-bar">
    <div id="progressFill"></div>
    <div id="carMarker"></div>
    <span id="avgSpeedVal">0</span> / <span id="zoneLimitVal">0</span> km/h
  </div>

<script src="nosleep.js"></script>
<script src="app.js"></script>
<script>
  // Admin helpers
  function simulateAlert(type){
    showAlert(`${type} Radar test!`);
  }
  function toggleAdminMenu(){
    document.getElementById('adminMenu').classList.toggle('collapsed');
  }
</script>
</body>
</html>
